import{d as B,c as C,f as M}from"./components.964f072b.js";import{t as H,d as I,g as R}from"./elements.86ad7447.js";import{d as P,a as o,b as p,w as O,v as V,x as A,o as D,u as U,Z,_ as j,f as q,h as G,M as J,O as K,N as $,R as k}from"./vue-router.esm-bundler.53acc020.js";const Q={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onScroll:B()},{n:X,classes:Y}=C("sticky"),_=P({name:"VarSticky",props:Q,setup(e){const n=o(null),l=o(null),a=o(!1),i=o("0px"),r=o("0px"),v=o("auto"),m=o("auto"),b=o("auto"),h=o("auto"),L=p(()=>!e.disabled&&e.cssMode),W=p(()=>!e.disabled&&a.value),d=p(()=>H(e.offsetTop));let t;const s=()=>{const{onScroll:y,cssMode:E,disabled:F}=e;if(F)return;let f=0;if(t!==window){const{top:z}=t.getBoundingClientRect();f=z}const g=l.value,c=n.value,{top:N,left:T}=c.getBoundingClientRect(),x=N-f;x<=d.value?(E||(v.value=`${c.offsetWidth}px`,m.value=`${c.offsetHeight}px`,i.value=`${f+d.value}px`,r.value=`${T}px`,b.value=`${g.offsetWidth}px`,h.value=`${g.offsetHeight}px`,a.value=!0),M(y,d.value,!0)):(a.value=!1,M(y,x,!1))},S=async()=>{await I(),t=R(n.value),t!==window&&t.addEventListener("scroll",s),window.addEventListener("scroll",s),s()},w=()=>{t!==window&&t.removeEventListener("scroll",s),window.removeEventListener("scroll",s)};return O(()=>e.disabled,s),V(S),A(w),D(S),U(w),{n:X,classes:Y,stickyEl:n,wrapperEl:l,isFixed:a,offsetTop:d,fixedTop:i,fixedLeft:r,fixedWidth:v,fixedHeight:m,fixedWrapperWidth:b,fixedWrapperHeight:h,enableCSSMode:L,enableFixedMode:W,toNumber:Z}}});function ee(e,n,l,a,i,r){return q(),G("div",{class:$(e.classes(e.n(),[e.enableCSSMode,e.n("--css-mode")])),ref:"stickyEl",style:k({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?`${e.offsetTop}px`:void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[J("div",{class:$(e.n("wrapper")),ref:"wrapperEl",style:k({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[K(e.$slots,"default")],6)],6)}const u=j(_,[["render",ee]]);u.install=function(e){e.component(u.name,u)};export{u as S,Q as p};
