var b=Object.defineProperty;var s=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var d=(e,o,a)=>o in e?b(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,p=(e,o)=>{for(var a in o||(o={}))O.call(o,a)&&d(e,a,o[a]);if(s)for(var a of s(o))g.call(o,a)&&d(e,a,o[a]);return e};import{d as j,y as x,i as l,I as k,T as v,w as F,v as I,H as P,J as _}from"./vendor.8243c41e.js";import{u as z}from"./lock.cbce9ccd.js";import{u as B}from"./zIndex.a9a0aa57.js";import{u as T,d as V}from"./components.d08fc2fc.js";import"./index.b947dc5d.js";function A(e){return["top","bottom","right","left","center"].includes(e)}const L={show:{type:Boolean,default:!1},position:{type:String,default:"center",validator:A},transition:{type:String},overlay:{type:Boolean,default:!0},overlayClass:{type:String},overlayStyle:{type:Object},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},teleport:{type:String},onOpen:{type:Function},onOpened:{type:Function},onClose:{type:Function},onClosed:{type:Function},onClickOverlay:{type:Function},onRouteChange:{type:Function},"onUpdate:show":{type:Function}};function R(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_(e)}var c=j({name:"VarPopup",inheritAttrs:!1,props:L,setup(e,{slots:o,attrs:a}){const{zIndex:i}=B(()=>e.show,3),{disabled:y}=T(),f=()=>{var r;const{closeOnClickOverlay:t,onClickOverlay:n}=e;n==null||n(),!!t&&((r=e["onUpdate:show"])==null||r.call(e,!1))};z(e,"show","lockScroll"),x(()=>e.show,t=>{const{onOpen:n,onClose:r}=e;t?n==null||n():r==null||r()}),V(()=>{var t;return(t=e.onRouteChange)==null?void 0:t.call(e)});const m=()=>{const{overlayClass:t,overlayStyle:n}=e;return l("div",{class:["var-popup__overlay",t],style:p({zIndex:i.value-1},n),onClick:f},null)},h=()=>{var t;return l("div",P({class:["var-popup__content","var-elevation--3",`var-popup--${e.position}`],style:{zIndex:i.value}},a),[(t=o.default)==null?void 0:t.call(o)])},u=()=>{const{onOpened:t,onClosed:n,show:r,overlay:w,transition:C,position:S}=e;return l(v,{name:"var-fade",onAfterEnter:t,onAfterLeave:n},{default:()=>[F(l("div",{class:"var--box var-popup",style:{zIndex:i.value-2}},[w&&m(),l(v,{name:C||`var-pop-${S}`},{default:()=>[r&&h()]})]),[[I,r]])]})};return()=>{const{teleport:t}=e;if(t){let n;return l(k,{to:t,disabled:y.value},R(n=u())?n:{default:()=>[n]})}return u()}}});c.install=function(e){e.component(c.name,c)};export{c as P,L as p};
