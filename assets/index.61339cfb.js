import{d as W,a as f,b as P,w as G,o as me,aj as ve,X as de,at as fe,_ as Z,p as R,f as k,h as M,O as D,i as L,S as u,m as x,j as F,N as U,R as ee,ag as ge,D as pe,M as Ce,F as ae,P as y,Q as I,ac as he,ay as Ne,q as l,al as e,az as S}from"./vue-router.esm-bundler.53acc020.js";import{B as Be}from"./index.24d5da44.js";import{d as $,u as ye,a as Ie,c as j,f as A,b as Ae,e as ke}from"./components.964f072b.js";import{R as Ee}from"./index.c27786bc.js";import{B as Te}from"./index.b16f00c2.js";import{I as le}from"./index.8c5877ed.js";import{S as q}from"./index.145529ed.js";import{d as _e}from"./index.e436054e.js";import{u as Se,a as te,_ as Oe,b as $e,c as Pe}from"./index.69d6b515.js";import"./index.07a49f37.js";import"./elements.86ad7447.js";import"./shared.36d94af5.js";import"./index.73b62ccf.js";/* empty css               */import"./zIndex.2875f9fe.js";import"./lock.470bbe1d.js";const Fe={active:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},safeArea:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:1},activeColor:{type:String},inactiveColor:{type:String},onChange:$(),"onUpdate:active":$(),onBeforeChange:$(),onFabClick:$(),fabProps:{type:Object}},ne=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY"),oe=Symbol("BOTTOM_NAVIGATION_COUNT_BOTTOM_NAVIGATION_ITEM_KEY");function Ue(){const{childProviders:a,bindChildren:c}=Ie(ne),{length:r}=ye(oe);return{length:r,bottomNavigationItems:a,bindBottomNavigationItem:c}}const{n:Me,classes:De}=j("bottom-navigation"),{n:V}=j("bottom-navigation-item"),Q=V("--right-half-space"),X=V("--left-half-space"),J=V("--right-space"),Le={type:"primary"},Ve=W({name:"VarBottomNavigation",components:{VarButton:Be},props:Fe,setup(a,{slots:c}){const r=f(null),b=P(()=>a.active),g=P(()=>a.activeColor),h=P(()=>a.inactiveColor),d=f({}),{length:m,bottomNavigationItems:N,bindBottomNavigationItem:p}=Ue(),O=()=>{m.value===0||E()||B()||o()},E=()=>N.find(({name:i})=>b.value===i.value),B=()=>N.find(({index:i})=>b.value===i.value),o=()=>{!de(b.value)||(b.value<0?A(a["onUpdate:active"],0):b.value>m.value-1&&A(a["onUpdate:active"],m.value-1))},s=i=>{b.value!==i&&(a.onBeforeChange?se(i):H(i))},se=i=>{let v=A(a.onBeforeChange,i);v=fe(v)?v:[v],Promise.all(v).then(T=>{T.some(_=>!_)||H(i)})},H=i=>{A(a["onUpdate:active"],i),A(a.onChange,i)},ce=()=>{Y().forEach(v=>{v.classList.remove(Q,X,J)})},K=i=>{const v=Y(),T=v.length,_=i%2===0;v.forEach((w,z)=>{re(_,w,z,T)})},re=(i,v,T,_)=>{const w=T===_-1;if(!i&&w){v.classList.add(J);return}const z=T===_/2-1,be=T===_/2;z?v.classList.add(Q):be&&v.classList.add(X)},Y=()=>Array.from(r.value.querySelectorAll(`.${V()}`)),ue=()=>{A(a.onFabClick)};return p({active:b,activeColor:g,inactiveColor:h,onToggle:s}),G(()=>m.value,O),G(()=>a.fabProps,i=>{d.value={...Le,...i}},{immediate:!0,deep:!0}),me(()=>{!c.fab||K(m.value)}),ve(()=>{ce(),c.fab&&K(m.value)}),{n:Me,classes:De,length:m,bottomNavigationDom:r,handleFabClick:ue,fabProps:d}}});function we(a,c,r,b,g,h){const d=R("var-button");return k(),M("div",{class:U(a.classes(a.n(),[a.fixed,a.n("--fixed")],[a.border,a.n("--border")],[a.safeArea,a.n("--safe-area")])),ref:"bottomNavigationDom",style:ee(`z-index:${a.zIndex}`)},[D(a.$slots,"default"),a.$slots.fab?(k(),L(d,x({key:0,class:a.classes(a.n("fab"),[a.length%2,a.n("--fab-right"),a.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:a.handleFabClick},a.fabProps,{round:""}),{default:u(()=>[D(a.$slots,"fab")]),_:3},16,["class","onClick"])):F("",!0)],6)}const C=Z(Ve,[["render",we]]);C.install=function(a){a.component(C.name,C)};const ze={name:{type:String},icon:{type:String},label:{type:String},namespace:{type:String,default:"var-icon"},badge:{type:[Boolean,Object],default:!1},onClick:$()};function Ge(){const{parentProvider:a,bindParent:c}=Ae(ne),{index:r}=ke(oe);if(!a||!c||!r)throw Error("<var-bottom-navigation-item/> must in <var-bottom-navigation/>");return{index:r,bottomNavigation:a,bindBottomNavigation:c}}const{n:Re,classes:je}=j("bottom-navigation-item"),He={type:"danger",dot:!0},Ke=W({name:"VarBottomNavigationItem",components:{VarBadge:Te,VarIcon:le},directives:{Ripple:Ee},props:ze,setup(a){const c=P(()=>a.name),r=P(()=>a.badge),b=f({}),{index:g,bottomNavigation:h,bindBottomNavigation:d}=Ge(),{active:m,activeColor:N,inactiveColor:p}=h,O={name:c,index:g},E=()=>m.value===c.value||m.value===g.value?N.value:p.value,B=()=>{var s;const o=(s=c.value)!=null?s:g.value;A(a.onClick,o),A(h.onToggle,o)};return d(O),G(()=>r.value,o=>{b.value=o===!0?He:r.value},{immediate:!0}),{n:Re,classes:je,index:g,active:m,badge:r,badgeProps:b,computeColorStyle:E,handleClick:B}}});function Ye(a,c,r,b,g,h){const d=R("var-icon"),m=R("var-badge"),N=ge("ripple");return pe((k(),M("button",{class:U(a.classes(a.n(),[a.active===a.index||a.active===a.name,a.n("--active")])),style:ee({color:a.computeColorStyle()}),onClick:c[0]||(c[0]=(...p)=>a.handleClick&&a.handleClick(...p))},[a.icon&&!a.$slots.icon?(k(),L(d,{key:0,name:a.icon,namespace:a.namespace,class:U(a.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):F("",!0),D(a.$slots,"icon",{active:a.active===a.index||a.active===a.name}),a.badge?(k(),L(m,x({key:1},a.badgeProps,{class:a.n("badge"),"var-bottom-navigation-item-cover":""}),null,16,["class"])):F("",!0),Ce("span",{class:U(a.n("label"))},[a.$slots.default?F("",!0):(k(),M(ae,{key:0},[y(I(a.label),1)],64)),D(a.$slots,"default")],2)],6)),[[N]])}const n=Z(Ke,[["render",Ye]]);n.install=function(a){a.component(n.name,n)};const qe={basicUsage:"\u57FA\u672C\u4F7F\u7528",matchByName:"\u901A\u8FC7\u540D\u79F0\u5339\u914D",showBadge:"\u5FBD\u6807\u63D0\u793A",customColor:"\u81EA\u5B9A\u4E49\u989C\u8272",changeEvent:"\u76D1\u542C\u5207\u6362\u4E8B\u4EF6",clickEvent:"\u76D1\u542C\u70B9\u51FB\u4E8B\u4EF6",fab:"\u60AC\u6D6E\u6309\u94AE",label:"\u6807\u7B7E"},Qe={basicUsage:"Basic Usage",matchByName:"Match by name",showBadge:"Show Badge",customColor:"Custom Color",changeEvent:"Change Event",clickEvent:"Click Event",fab:"Fab",label:"label"},{add:ie,use:Xe,pack:t,packs:da,merge:fa}=Se(),Je=a=>{Pe(a),Xe(a)};te("zh-CN",Oe);te("en-US",$e);ie("zh-CN",qe);ie("en-US",Qe);const ga={setup(a){const c=f(0),r=f("home"),b=f(0),g={type:"primary",value:"66"},h=f(0),d=f(0);function m(B){q.info(`changed to ${B}`)}const N=f(0);function p(B){q.success(`clicked ${B}`)}const O=f(0),E=f(!0);return he(Je),Ne(_e),(B,o)=>(k(),M(ae,null,[l(e(S),null,{default:u(()=>[y(I(e(t).basicUsage),1)]),_:1}),l(e(C),{active:c.value,"onUpdate:active":o[0]||(o[0]=s=>c.value=s)},{default:u(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(S),null,{default:u(()=>[y(I(e(t).matchByName),1)]),_:1}),l(e(C),{active:r.value,"onUpdate:active":o[1]||(o[1]=s=>r.value=s)},{default:u(()=>[l(e(n),{name:"home",label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{name:"search",label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{name:"heart",label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{name:"user",label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(S),null,{default:u(()=>[y(I(e(t).showBadge),1)]),_:1}),l(e(C),{active:b.value,"onUpdate:active":o[2]||(o[2]=s=>b.value=s)},{default:u(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify",badge:""},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart",badge:g},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(S),null,{default:u(()=>[y(I(e(t).customColor),1)]),_:1}),l(e(C),{"active-color":"#ba68c8",active:h.value,"onUpdate:active":o[3]||(o[3]=s=>h.value=s)},{default:u(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(S),null,{default:u(()=>[y(I(e(t).changeEvent),1)]),_:1}),l(e(C),{active:d.value,"onUpdate:active":o[4]||(o[4]=s=>d.value=s),onChange:m},{default:u(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(S),null,{default:u(()=>[y(I(e(t).clickEvent),1)]),_:1}),l(e(C),{active:N.value,"onUpdate:active":o[5]||(o[5]=s=>N.value=s)},{default:u(()=>[l(e(n),{onClick:p,label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{onClick:p,label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{onClick:p,label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{onClick:p,label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(S),null,{default:u(()=>[y(I(e(t).fab),1)]),_:1}),l(e(C),{active:O.value,"onUpdate:active":o[6]||(o[6]=s=>O.value=s),onFabClick:o[7]||(o[7]=s=>E.value=!E.value),style:{"margin-top":"10px"}},{fab:u(()=>[l(e(le),{name:"heart"})]),default:u(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"bell"},null,8,["label"]),E.value?F("",!0):(k(),L(e(n),{key:0,label:e(t).label,icon:"account-circle"},null,8,["label"]))]),_:1},8,["active"])],64))}};export{ga as default};
