import{d as f,i as M,f as d,c as U}from"./components.964f072b.js";import{m as o}from"./elements.86ad7447.js";import{F as P,u as T}from"./provide.f71ec15b.js";import{L as W}from"./index.07a49f37.js";import{R as j}from"./index.c27786bc.js";import{d as q,b as D,n as E,_ as G,p as z,ag as H,f as y,h as N,M as C,R as p,N as u,D as I,i as J,j as K,q as O}from"./vue-router.esm-bundler.53acc020.js";const Q={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String},loadingColor:{type:String},closeColor:{type:String},size:{type:[String,Number]},rules:{type:Array},ripple:{type:Boolean,default:!0},onClick:f(),onChange:f(),"onUpdate:modelValue":f()},{n:X,classes:Y}=U("switch"),Z=q({name:"VarSwitch",components:{VarLoading:W,VarFormDetails:P},directives:{Ripple:j},props:Q,setup(e){const{bindForm:c,form:l}=T(),{errorMessage:n,validateWithTrigger:w,validate:k,resetValidation:m}=M(),v=()=>k(e.rules,e.modelValue),h=()=>E(()=>w(["onChange"],"onChange",e.rules,e.modelValue)),g=D(()=>{const{size:a,modelValue:s,color:r,closeColor:t,loadingColor:V,activeValue:i}=e;return{handle:{width:o(a),height:o(a),backgroundColor:s===i?r:t,color:V},ripple:{left:s===i?o(a,.5):`-${o(a,.5)}`,color:s===i?r:t||"#999",width:o(a,2),height:o(a,2)},track:{height:o(a,.72),width:o(a,1.9),borderRadius:o(a,2/3),filter:s===i||(n==null?void 0:n.value)?void 0:"brightness(.6)",backgroundColor:s===i?r:t},switch:{height:o(a,1.2),width:o(a,2)}}}),$=D(()=>{const{size:a="5.333vw"}=e;return o(a,.4)}),F=a=>{const{onClick:s,onChange:r,disabled:t,loading:V,readonly:i,modelValue:R,activeValue:S,inactiveValue:A,"onUpdate:modelValue":L}=e;if(d(s,a),t||V||i||(l==null?void 0:l.disabled.value)||(l==null?void 0:l.readonly.value))return;const B=R===S?A:S;d(r,B),d(L,B),h()};return d(c,{reset:()=>{d(e["onUpdate:modelValue"],e.inactiveValue),m()},validate:v,resetValidation:m}),{n:X,classes:Y,switchActive:F,radius:$,styleComputed:g,errorMessage:n,formDisabled:l==null?void 0:l.disabled,formReadonly:l==null?void 0:l.readonly}}});function _(e,c,l,n,w,k){const m=z("var-loading"),v=z("var-form-details"),h=H("ripple");return y(),N("div",{class:u(e.n())},[C("div",{class:u(e.classes(e.n("block"),[e.disabled||e.formDisabled,e.n("--disabled")])),onClick:c[0]||(c[0]=(...g)=>e.switchActive&&e.switchActive(...g)),style:p(e.styleComputed.switch)},[C("div",{style:p(e.styleComputed.track),class:u(e.classes(e.n("track"),[e.modelValue===e.activeValue,e.n("track--active")],[e.errorMessage,e.n("track--error")]))},null,6),I((y(),N("div",{class:u(e.classes(e.n("ripple"),[e.modelValue===e.activeValue,e.n("ripple--active")])),style:p(e.styleComputed.ripple)},[C("div",{style:p(e.styleComputed.handle),class:u(e.classes(e.n("handle"),e.n("$-elevation--2"),[e.modelValue===e.activeValue,e.n("handle--active")],[e.errorMessage,e.n("handle--error")]))},[e.loading?(y(),J(m,{key:0,radius:e.radius,color:"currentColor"},null,8,["radius"])):K("",!0)],6)],6)),[[h,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled}]])],6),O(v,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const b=G(Z,[["render",_]]);b.install=function(e){e.component(b.name,b)};export{b as S};
